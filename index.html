<!DOCTYPE html>
<html>
<head>
    <title>Конвертер PDF в PNG</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap');

        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            animation: fadeIn 2s ease-in-out;
        }

        h1 {
            font-size: 2em;
            color: #007cf0;
            text-align: center;
            padding-bottom: 20px;
        }

        .pdf-nav-button {
            font-size: 24px;
            cursor: pointer;
            margin: 0 10px;
            transition: transform 0.3s ease-in-out;
            opacity: 0;
        }

        .pdf-nav-button:hover {
            transform: scale(1.2);
        }

        #pdfContainer {
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(0,0,0,0.1);
            animation: slideUp 2s ease-in-out;
        }

        @keyframes slideUp {
            0% {transform: translateY(100%);}
            100% {transform: translateY(0);}
        }

        #pdfViewer {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
        }

        #pdfControls {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            width: 100%;
        }

        #fileAndDownload {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            padding-bottom: 20px;
        }

        #pageSelection {
            display: flex;
            flex-direction: column;
            margin-top: 20px;
        }

        #downloadSelected {
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 50px;
            background: linear-gradient(90deg, #007cf0, #00dfd8);
            color: white;
            cursor: pointer;
            transition: background 0.5s ease-in-out, transform 0.3s ease-in-out;
        }

        button:hover {
            background: linear-gradient(90deg, #00dfd8, #007cf0);
            transform: scale(1.1);
        }

        input[type="file"] {
            padding: 10px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: background 0.5s ease-in-out;
            background: #f0f0f0;
        }

        input[type="file"]:hover {
            background: #e0e0e0;
        }

        input[type="text"] {
            padding: 10px;
            border: none;
            border-radius: 50px;
            transition: background 0.5s ease-in-out;
            background: #f0f0f0;
        }

        input[type="text"]:hover {
            background: #e0e0e0;
        }
    </style>
</head>
<body>
    <h1>Конвертер PDF в PNG</h1>
    <div id="pdfContainer">
        <div id="statusMessage"></div>
        <div id="pdfViewer">
            <canvas id="pdfCanvas"></canvas>
            <div id="pdfNavButtons" class="pdf-nav-button">
                <div id="pdfPrevPage" class="pdf-nav-button">⬅️</div>
                <div id="pdfPageInfo"></div>
                <div id="pdfNextPage" class="pdf-nav-button">➡️</div>
            </div>
        </div>
        <div id="pdfControls">
            <div id="fileAndDownload">
                <input type="file" id="pdfInput" accept=".pdf">
                <button id="downloadAll" disabled>Скачать все</button>
                <button id="downloadSelected" disabled>Скачать выбранные</button>
            </div>
            <div id="pageSelection">
                <label for="pageInput">Выберите страницы для загрузки (разделите запятыми, через тире):</label>
                <input type="text" id="pageInput">
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.9.359/pdf.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js"></script>
    <script>
        // Ваш JavaScript код здесь...
        document.getElementById('pageInput').addEventListener('input', function() {
            var downloadSelectedButton = document.getElementById('downloadSelected');
            if (this.value.trim() !== '') {
                downloadSelectedButton.style.display = 'inline-block';
                setTimeout(function() {
                    downloadSelectedButton.style.opacity = '1';
                }, 50);
            } else {
                downloadSelectedButton.style.opacity = '0';
                setTimeout(function() {
                    downloadSelectedButton.style.display = 'none';
                }, 500);
            }
        });

        document.getElementById('pdfInput').addEventListener('change', function() {
            var pdfNavButtons = document.getElementsByClassName('pdf-nav-button');
            for (var i = 0; i < pdfNavButtons.length; i++) {
                pdfNavButtons[i].style.opacity = '0';
                pdfNavButtons[i].style.display = 'inline-block';
                (function(index) {
                    setTimeout(function() {
                        pdfNavButtons[index].style.opacity = '1';
                    }, 50);
                })(i);
            }
        });
    </script>
</body>
</html>
